# 分组交换网中的时延、丢包和吞吐量

因特网能够看成是一种运行在端系统上的分布式应用提供服务的基础设施。计算机网络必定要限制在端系统之间的吞吐量，故在端系统之间存在时延、丢包。

## 分组交换网中的时延概述

一个分组在沿途每个节点承受不同类型的时延，这些时延中最为重要的是：结点处理时延、排队时延、传输时延和传播时延.这些时延总体累加起来是结点总时延。

#### 处理时延

处理时延是因为节点需要解析分组的必要信息然后决定其出链路（索引转发表等操作）而产生的，通常在微秒或者更低数量级。

#### 排队时延

排队时延是因为分组所对应的出链路前面有其他分组正在传输，所以分组需要该链路的缓冲队列里等待其他分组传输完毕而产生的。一般来说，排队时延是到达该队列的流量强度和性质的函数，通常可以达到毫秒级到微秒级。

#### 传输时延

传输时延是将所有分组的比特推向链路所有需要的时间，实际的传输时延通常在毫秒到微秒数量级。用L表示分组的长度，用Rbps表示从路由器A到B的链路传输速率。传输时延是L/R。

#### 传播时延

传播时延是指比特进入链路后，从该链路的起点到下一个结点所用的时间；一旦分组中的最后一个比特到达路由器就意味着该分组的所有比特都已到达路由器；广域网中，传播时延一般是毫秒级的。传播时延是d/s。d是路由器A到B的距离。s是链路的传播速率

## 排队时延和丢包

由于排队容量是有限的，随着流量强度接近1，排队时延并不真正趋近于无穷大。相反，到达的分组发现一个满的队列。由于没有地方存储这个分组，路由器将丢弃该分组，该分组将会丢失。

## 端到端时延

    端到端时延 = （信路中路由器数量  + 1）* （处理时延 + 传播时延 + 节点时延）

## 计算网络中的吞吐量

计算机网络的吞吐量实际上是一个速度指标，它描述了比特经过某个节点的速度。对于某条路径上的结点来说，和该结点有关的速度有两个：接收数据的速度和发送数据的速度，而该结点的吞吐量是这两个速度中较小的一个。对于某条路径来说，该路径的吞吐量则是所有节点的吞吐量的最小值。网络的吞吐量可以衡量网络的性能。吞吐量可以近似为源和目的地之间路径的最小传输速率，最小传输速率的链路为瓶颈链路。
