# 多路复用与多路分解

多路复用与多路分解，就是将由网络层提供的主机到主机交付服务延伸到为运行在主机上的应用程序提供进程到进程的交付服务。
将运输层报文段中的数据交付到正确的套接字的工作称为`多路分解`。
在源主机收集数据并为每块数据封装上首部信息从而生成报文段，然后将报文段传输到网络层，这些工作称为`多路复用`。

## 无连接的多路复用与多路分解

一个UDP套接字是由一个二元组全面标示的。该二元组包含一个目的地址和一个目的端口号。因此，若两个UDP报文段有不同的源IP地址或源端口号，但具有相同的目的地址和相同的目的端口号，那么这两个报文段将通过相同的目的地址的套接字被定向到相同的目的进程。

## 面向连接的多路复用与多路分解

一个TCP套接字是由一个四元组全面标示的。该四元组包含一个目的地址、一个目的端口号、一个源地址和一个源端口号。因此，若两个TCP报文段有不同的源IP地址或不同的源端口号，但具有相同的目的地址和目的端口号，那么这两个报文段将通过不同的目的地址的套接字被定向到不同的进程。

## Web服务器与TCP

连接套接字与进程之间并非总是有着一一对应的关系。事实上，当今的高性能Web服务器通常只使用一个进程，但是为每个新的客户连接创建了一个具有新连接套接字的新线程。
