# 线程

---

## 同步和阻塞

同步和异步强调的是消息通信机制；阻塞和非阻塞强调的是等待执行结果

### 同步和异步

- 同步：调用方得等待这个调用返回结果才能继续往后执行
- 异步：调用方不会理解得到结果，而是在调用发出后调用者可用继续执行后续操作，被调用者通过状体来通知调用者，或者通过回掉函数来处理这个调用

### 阻塞非阻塞

- 阻塞：阻塞调用是指调用结果返回之前，当前线程会被挂起。调用线程只有在得到结果之后才会返回
- 非阻塞：调用指在不能立刻得到结果之前，该调用不会阻塞当前线程

---

## 线程通信

- 全局变量
- 互斥量
- 条件变量
- 信号量

---

## joinable和unjoinable

### joinable

当线程函数自己返回退出时或pthread_exit时都不会释放线程所占用堆栈和线程描述符。只有当你调用了pthread_join之后这些资源才会被释放，这是需要main函数或者其他线程去调用pthread_join函数

### unjoinable

这些资源在线程函数退出时或pthread_exit时自动会被释放。设置unjoinable状态设置有两种办法 一是可以在pthread_create时指定，二是线程创建后在线程中pthread_detach自己，状态改为unjoinable状态，确保资源的释放

---
